#include <windows.h>

BOOL WINAPI DllMain(
    HINSTANCE hModule,
    DWORD fdwReason,
    LPVOID lpvReserved
) {
    switch (fdwReason) {
    case DLL_PROCESS_ATTACH:
        // DLL, bir işleme bağlandığında (yani EXE dosyası tarafından yüklenirken) bu durum gerçekleşir.
        // Bu noktada, DLL başlatma işlemleri gerçekleştirilebilir.
        break;

    case DLL_THREAD_ATTACH:
        // DLL'ye yeni bir thread bağlandığında bu durum gerçekleşir.
        // Bu noktada, ilgili thread için özel işlemler yapılabilir.
        break;

    case DLL_THREAD_DETACH:
        // DLL'den bir thread ayrıldığında bu durum gerçekleşir.
        // Bu noktada, thread ile ilgili kaynakları serbest bırakmak veya temizleme işlemleri yapılabilir.
        break;

    case DLL_PROCESS_DETACH:
        // DLL, bir işlemden (yani EXE dosyasından) boşaltıldığında bu durum gerçekleşir.
        // Bu noktada, temizlik işlemleri veya kaynakların serbest bırakılması gibi işlemler yapılabilir.
        // lpvReserved parametresi genellikle kullanılmaz ve NULL değerine sahip olmalıdır.
        if (lpvReserved != nullptr) {
            // Bu durumda, DLL, sistem tarafından kapatılıyor olabilir ve lpvReserved değeri kullanılabilir.
            // Ancak, genellikle bu durumu işlemek için özel bir işlem yapmanıza gerek yoktur.
            break;
        }
        break;
    }
}