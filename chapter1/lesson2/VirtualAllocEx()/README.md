<div align="center">
    <h2> VirtualAllocEx() API </h2>
</div>

<p>
    VirtualAllocEx(), İşletim Sistemi içerisinde çalışan herhangi bir Process'in belleğinde yer ayırmamızı sağlayan bir API'dir. Bu API'yi kullanarak açtığımız Process'in belleğinde yer ayırabiliriz.
</p>

<h2> Syntax </h2>
<p>
    VirtualAllocEx API'n syntax'ı aşağıdaki gibidir:
</p>

```c
LPVOID VirtualAllocEx(
  HANDLE hProcess,
  LPVOID lpAddress,
  SIZE_T dwSize,
  DWORD  flAllocationType,
  DWORD  flProtect
);
```

<h2> Parametreler </h2>

<b> [*] HANDLE hProcess </b>
<p>
    Bu parametre, bellek ayırmak istediğimiz Process'in HANDLE'ını belirtmemizi sağlar.
</p> <br>

<b> [*] LPVOID lpAddress </b>
<p>
    Bu parametre, bellek ayırmak istediğimiz Process'in belleğinde yer ayırmak istediğimiz adresi belirtmemizi sağlar. Eğer bu parametreyi NULL olarak belirtirsek, işletim sistemi bizim için bir adres belirleyecektir.
</p> <br>

<b> [*] SIZE_T dwSize </b>
<p>
    Bu parametre, bellek ayırmak istediğimiz Process'in belleğinde ayırmak istediğimiz boyutu belirtmemizi sağlar.
</p> <br>

<b> [*] DWORD flAllocationType </b>
<p>
    Bu parametre, bellek ayırmak istediğimiz Process'in belleğinde yer ayırmak için kullanacağımız yöntemi belirtmemizi sağlar. Bu parametreyi aşağıdaki değerlerden biri ile belirleyebiliriz:
</p>

<ul>
    <li> MEM_COMMIT: Bellek ayrımı yapılacak alanın hemen ayrılmasını sağlar. </li>
    <li> MEM_RESERVE: Bellek ayrımı yapılacak alanın ayrılması için yer ayırır. </li>
    <li> MEM_RESET: Bellek ayrımı yapılacak alanı sıfırlar. </li>
    <li> MEM_RESET_UNDO: Bellek ayrımı yapılacak alanı sıfırlar ve daha sonra geri alır. </li>
</ul>
<br>

<b> [*] DWORD flProtect </b>
<p>
    Bu parametre, bellek ayırmak istediğimiz Process'in belleğinde yer ayırmak için kullanacağımız koruma yöntemini belirtmemizi sağlar. Bu parametreyi aşağıdaki değerlerden biri ile belirleyebiliriz:
</p>

<h2> Return Değeri </h2>
<p>
    API başarılı olursa, HANDLE değeri döndürür. Başarısız olursa, NULL değeri döndürür. Eğer fonksiyon başarısız olursa <a href="https://learn.microsoft.com/en-us/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror"> GetLastError() </a> fonksiyonu ile hata kodunu elde edebiliriz.